@model Aliquota.Domain.Models.Investment
@{
    int monthsQuantity = ((DateTime.Now.Month - @Model.DayOfInvestment.Month) + ((DateTime.Now.Year - Model.DayOfInvestment.Year) * 12));
    double initialAmount = Model.InitialAmount;
    double actualProfit = initialAmount;
    for (int i = 0; i < monthsQuantity; i++)
    {
        actualProfit = actualProfit + actualProfit * 0.05;
    }
    actualProfit -= initialAmount;
    int years = monthsQuantity / 12;
}

<div>
    <p>
        <a asp-action="ViewInvestments">
            <input type="submit" value="Voltar" class="btn btn-default" style="border-radius:3px" />
        </a>
    </p>
</div>
<br />
<h1 style="text-align:center">REMOVE INVESTMENT</h1>


@if (years <= 1)
{
    <h3>You have @years year with this investment, like said in the main page, it will be removed 22.5% of your profit (not the base amount) for this plataform and the amount that is left is totally yours</h3>
    <h3> 22.5% of $@actualProfit.ToString("F2", System.Globalization.CultureInfo.InvariantCulture) is $@((actualProfit*0.225).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
    <h3> Your initial amount: $@initialAmount</h3>
    <h3> Your part: $@((actualProfit * 0.775 + initialAmount).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
}
else if (years <= 2)
{
    <h3>You have @years years with this investment, like said in the main page, it will be removed 18.5% of your profit (not the base amount) for this plataform and the amount that is left is totally yours</h3>
    <h3> 18.5% of $@actualProfit.ToString("F2", System.Globalization.CultureInfo.InvariantCulture) is $@((actualProfit*0.185).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
    <h3> Your initial amount: $@initialAmount</h3>
    <h3> Your part: $@((actualProfit * 0.815 + initialAmount).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
}
else
{
    <h3>You have @years years with this investment, like said in the main page, it will be removed 15% of your profit (not the base amount) for this plataform and the amount that is left is totally yours</h3>
    <h3> 15% of $@actualProfit.ToString("F2", System.Globalization.CultureInfo.InvariantCulture) is $@((actualProfit*0.15).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
    <h3> Your initial amount: $@initialAmount</h3>
    <h3> Your part: $@((actualProfit * 0.85 + initialAmount).ToString("F2", System.Globalization.CultureInfo.InvariantCulture))</h3>
}
<h3>Will you remove the investment?</h3>
<br />
<form asp-action="DefinitiveRemove">
    <input type="hidden" asp-for="@Model.Id"/>
    <input type="submit" class="btn btn-danger" style="border-radius:4px" value="YES,  I WILL"/>
</form>
<br />
<br />
<a asp-action="ViewInvestments" class="btn btn-success" style="border-radius:4px">NOPE, I'VE CHANGED MY MIND, GET OUT OF HERE NOW</a>
